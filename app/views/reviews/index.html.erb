<% content_for :title, "Reviews" %>

<div class="container py-5">
  <% if notice %>
    <div class="alert alert-success alert-dismissible fade show mb-4" role="alert">
      <i class="bi bi-check-circle-fill me-2"></i>
      <%= notice %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>

  <div class="row justify-content-center">
    <div class="col-lg-8">

      <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="text-primary fw-bold mb-0">
          <i class="bi bi-chat-left-text me-2"></i>
          Reviews
        </h1>
        <%= link_to "New Review", new_book_review_path(@book), class: "btn btn-primary rounded-pill fw-semibold shadow-sm" %>
      </div>

      <div id="reviews">
        <% if @reviews.any? %>
          <% @reviews.each do |review| %>
            <div class="card shadow-sm border-0 rounded-4 mb-4">
              <div class="card-body">
                <%= render review %>
                <div class="mt-3">
                  <%= link_to "Show this review", book_review_path(@book, review), class: "btn btn-outline-primary btn-sm rounded-pill fw-semibold" %>
                </div>
              </div>
            </div>
          <% end %>
        <% else %>
          <p class="text-muted fst-italic">No reviews yet.</p>
        <% end %>
      </div>

    </div>
  </div>
</div>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
